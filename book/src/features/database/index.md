# Database

<!--todo: Fix broken links once 0.7.0 is released-->

Roadster provides built-in support for both [SeaORM](https://docs.rs/sea-orm) and [Diesel](https://docs.rs/diesel).

## SeaORM

When the `db-sea-orm` feature is enabled, Roadster provides support for various SQL databases
via [SeaORM](https://docs.rs/sea-orm/), an ORM built on top of [sqlx](https://docs.rs/sqlx/latest/sqlx/).
See the SeaORM docs for more details.

### Migrator

If you want to run your SeaORM migrations with Roadster, you need to provide
your [`MigratorTrait`](https://docs.rs/sea-orm-migration/1.1.4/sea_orm_migration/migrator/trait.MigratorTrait.html) type
to Roadster. This is done by setting providing the migrator in the
[`App#migrators`](https://docs.rs/roadster/0.7.0-alpha.4/roadster/app/trait.App.html#method.migrators) impl

```rust,ignore
{{#include ../../../examples/database/src/app.rs:8:}}
```

or the [
`RoadsterAppBuilder#sea_orm_migrator`](https://docs.rs/roadster/0.7.0-alpha.4/roadster/app/struct.RoadsterAppBuilder.html#method.sea_orm_migrator)
method.

```rust,ignore
{{#include ../../../examples/database/src/roadster_app.rs:6:}}
```

### Migration utilities

Roadster provides some utilities for defining common column types with SeaORM. See
the [`migration`](https://docs.rs/roadster/latest/roadster/migration/index.html) module docs for the list of
utilities.

## Diesel

<!--todo: Diesel section-->

ðŸ›  todo ðŸ› 

## Running migrations

### Automatically

Roadster can automatically run your migrations when your app is starting. This behavior is configured by the
[
`database.auto-migrate`](https://docs.rs/roadster/latest/roadster/config/database/struct.Database.html#structfield.auto_migrate)
config field.

```toml
[database]
auto-migrate = true # change to `false` to disable
```

### Via the Roadster CLI

You can also manually run migrations via the CLI (when the `cli` feature is enabled).

```shell
cargo run -- roadster migrate up
```

Note that this does not generate schemas/entities that may be generated by the SeaORM/Diesel CLI utilities. This only
runs the migrations on the connected DB.
